<?xml version="1.0" encoding="UTF-8"?>
<c:template name="slideshow">
    <p:param name="id"                      type="identifier"/>
    <p:param name="data"                    type="data"/>
    <p:param name="default-image"           type="text"/>
    <p:param name="default-caption"         type="text"/>
    <p:param name="continuous"              type="boolean"    default="true"/>
    <p:param name="auto-play"               type="boolean"    default="true"/>
    <p:param name="thumbs"                  type="boolean"    default="false"/>
    <p:param name="width"                   type="number"/>
    <p:param name="height"                  type="number"/>
    <p:param name="quality"                 type="number"     default = "75"/>
    <p:param name="thumb-width"             type="number"/>
    <p:param name="thumb-height"            type="number"/>
    <p:param name="thumb-quality"           type="number"     default = "75"/>
    <p:param name="thumb-opacity"           type="number"     default="0.33"/>
    <p:param name="thumbs-scroll-duration"  type="number"     default="1000"/>
    <p:param name="thumbs-position"         type="text"       default="bottom"/>
    <p:param name="circular-thumbs"         type="boolean"    default="false"/>
    <p:param name="delay"                   type="number"     default = "4000"/>
    <p:param name="duration"                type="number"     default = "1000"/>
    <p:param name="crop"                    type="text"       default = "1"/>
    <p:param name="watermark"               type="text"/>
    <p:param name="watermark-opacity"       type="number"/>
    <p:param name="watermark-padding"       type="number"/>
    <p:param name="navigation"              type="text"/>
    <p:param name="animation"               type="text"       default = "FadeAnimation"/>
    <p:stylesheet src="private/selene/addons/templates/jQPresenter/jQPresenter.css"/>
    <p:script src="private/selene/addons/templates/jQPresenter/jQPresenter.js"/>
    <p:script name="slideshow">
jQuery(document).ready(function() {
  jQuery('#{@id}').jQPresenter({
    animation: '{@animation}',
    delay: {@delay},
    transitionDuration: {@duration},
    continuous: {@continuous},
    thumbOpacity: {@thumb-opacity},
    thumbsScrollDuration: {@thumbs-scroll-duration},
    circularThumbs: {@circular-thumbs},
    thumbsPosition: '{@thumbs-position}',
    navigation: '{@navigation}',
    autoPlay: {@auto-play},
    plugins: ['Controller','Navigation','Thumbnails']
  });
});
    </p:script>
    <p:body>
      <div id="{@id}" class="jQPresenter">
        <c:test value="{@thumbs}">
          <p:if-true>
            <div class="thumbs">
              <c:repeater data="{@data}" rewind="yes">
                <p:repeat>
                  <c:image value="{id}" styles="width:{@thumb-width};height:{@thumb-height};quality:{@quality};crop:1"/>
                </p:repeat>
              </c:repeater>
            </div>
          </p:if-true>
        </c:test>
        <div class="main" style="width:{@width}px;height:{@height}px">
          <c:repeater data="{@data}">
            <p:repeat>
              <c:test value="{link}">
                <p:if-set>
                  <a href="{link}"><c:image value="{id}" description="{caption}" styles="width:{@width};height:{@height};quality:{@quality};crop:{@crop};watermark:{@watermark};watermark-opacity:{@watermark-opacity};watermark-padding:{@watermark-padding}"/></a>
                </p:if-set>
                <p:default>
                  <c:image value="{id}" description="{caption}" styles="width:{@width};height:{@height};quality:{@quality};crop:{@crop};watermark:{@watermark};watermark-opacity:{@watermark-opacity};watermark-padding:{@watermark-padding}"/>
                </p:default>
              </c:test>
            </p:repeat>
            <p:no-data>
              <c:test value="{@default-image}">
                <p:if-set>
                  <c:image value="{@default-image}" description="{@default-caption}" styles="width:{@width};height:{@height};quality:{@quality};crop:{@crop};watermark:{@watermark};watermark-opacity:{@watermark-opacity};watermark-padding:{@watermark-padding}"/>
                </p:if-set>
              </c:test>
            </p:no-data>
          </c:repeater>
        </div>
      </div>
    </p:body>
</c:template>